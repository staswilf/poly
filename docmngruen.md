# Выпуск двуязычной конфигурации "1С:Документооборот 2.1"

## Общие сведения

Выпуск двуязычной конфигурации сводится к:
1. Загрузке русскоязычной конфигурации в инструмент перевода;
2. Переводу в нем новых и измененных объектов;
3. Созданию файла поставки переведенной конфигурации;
4. Обновлению хранилища двуязычной конфигурации файлом поставки.

## Загрузка русскоязычной конфигурации

Русскоязычную конфигурацию берем из сборки, не из хранилища, чтобы гарантировать соответствие релиза двуязычной конфигурации релизу русскоязычной. Конфигурация выгружается в файлы платформой версии, рекомендуемой для конфигурации.

## Перевод

Файлы русскоязычной конфигурации загружаются в инструмент перевода без дополнительных настроек ("Mark as invalid" заставит программу пометить все объекты перевода как неактуальные, а потом снять эту пометку у всех загружаемых объектов, что в реальности никому не нужно, мы все равно обращаем внимание только на новые и измененные объекты).
Перед загрузкой рекомендуется сделать резервную копию.
Далее следует распределить работу по ответственным, глядя на РС "Statistics on translation objects by configuration objects". Записи без объектов перевода - это итоги по ответственным, запись без объекта перевода и ответственного - это общий итог. Как правило, если объектов к переводу меньше 1000, дешевле оказывается перевести все самому. Если объектов больше, нужно раздать их по ответственным, следя, чтобы объем был по возможности одинаков, а объекты конфигурации были знакомы ответственным (это противоречивые требования).
Для передачи объекта конфигурации другому ответственному служит команда контекстного меню "Specify responsible user". Автоматического обновления статистики при этом не происходит, нужно дождаться запуска регламентного задания или обновить вручную командой "Update statistics".

Перевод начинается с запуска инструмента перевода под ответственными со включением режима "My objects only" и установки фильтра по объектам "Unverified". Этот фильтр покажет новые объекты, измененные объекты и объекты с автопереводом, требующие верификации.
Собственно перевод заключается в двух операциях:
* Для качественных автопереводов нужно выбрать команду "Verify".
* Для новых и измененных объектов и некачественных автопереводов нужно выбрать команду "Translate" или открыть объект двойным щелчком и дать качественный перевод, пользуясь словарями и автопереводом. Ускорить процесс можно, пакетно переводя идентичные объекты командой "Translate identical ones".

Нюансы:
* Инструмент перевода следит за совпадением числа апострофов и знаков процента. При необходимости обойти этот контроль нужно открыть форму объекта перевода (F2) и исправить перевод там.
* Для автоперевода используется сперва Яндекс-переводчик, а потом MS Translate. Ключ Яндекс-переводчика хранится в ИБ. Ключ MS Translate захардкоден. Автопереводы кэшируются.

После завершения перевода вызываем команду "Translate configuration". В качестве исходного каталога указываем каталог с выгрузкой русскоязычной конфигурации - например, тот, что мы использовали при загрузке, а в качестве каталога назначения - любой пустой.

## Сборка двуязычной конфигурации

### Создание файла поставки

### Обновление хранилища
